{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\PC\\\\Documents\\\\Code\\\\Full-Stack-MERN\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\PC\\\\Documents\\\\Code\\\\Full-Stack-MERN\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{TextField,Button,Typography,Paper}from'@material-ui/core';import FileBase from'react-file-base64';import{useDispatch,useSelector}from'react-redux';import useStyles from'./styles';import{createPost,updatePost}from'../../actions/posts';//Get the current ID we are on\nvar Form=function Form(_ref){var currentId=_ref.currentId,setCurrentId=_ref.setCurrentId;var _useState=useState({creator:'',title:'',message:'',tags:'',selectedFile:''}),_useState2=_slicedToArray(_useState,2),postData=_useState2[0],setPostData=_useState2[1];var post=useSelector(function(state){return currentId?state.posts.find(function(p){return p._id===currentId;}):null;});var classes=useStyles();var dispatch=useDispatch();useEffect(function(){if(post){setPostData(post);};},[post]);var handleSubmit=function handleSubmit(e){e.preventDefault();if(currentId){dispatch(updatePost(currentId,postData));}else{dispatch(createPost(postData));}};var clear=function clear(){};return/*#__PURE__*/React.createElement(Paper,{className:classes.paper},/*#__PURE__*/React.createElement(\"form\",{autoComplete:\"off\",noValidate:true,className:\"\".concat(classes.root,\" \").concat(classes.form),onSubmit:handleSubmit},/*#__PURE__*/React.createElement(Typography,{variant:\"h6\"},\"Creating a Memory\"),/*#__PURE__*/React.createElement(TextField,{name:\"creator\",variant:\"outlined\",label:\"Creator\",fullWidth:true,value:postData.creator,onChange:function onChange(e){return setPostData(_objectSpread(_objectSpread({},postData),{},{creator:e.target.value}));}}),/*#__PURE__*/React.createElement(TextField,{name:\"title\",variant:\"outlined\",label:\"Title\",fullWidth:true,value:postData.title,onChange:function onChange(e){return setPostData(_objectSpread(_objectSpread({},postData),{},{title:e.target.value}));}}),/*#__PURE__*/React.createElement(TextField,{name:\"message\",variant:\"outlined\",label:\"Message\",fullWidth:true,value:postData.message,onChange:function onChange(e){return setPostData(_objectSpread(_objectSpread({},postData),{},{message:e.target.value}));}}),/*#__PURE__*/React.createElement(TextField,{name:\"tags\",variant:\"outlined\",label:\"Tags\",fullWidth:true,value:postData.tags,onChange:function onChange(e){return setPostData(_objectSpread(_objectSpread({},postData),{},{tags:e.target.value}));}}),/*#__PURE__*/React.createElement(\"div\",{className:classes.fileInput},\" \",/*#__PURE__*/React.createElement(FileBase,{type:\"file\",multiple:false,onDone:function onDone(_ref2){var base64=_ref2.base64;return setPostData(_objectSpread(_objectSpread({},postData),{},{selectedFile:base64}));}}),\" \"),/*#__PURE__*/React.createElement(Button,{className:classes.buttonSubmit,variant:\"contained\",color:\"primary\",size:\"large\",type:\"submit\",fullWidth:true},\"Submit\"),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"secondary\",size:\"small\",onClick:clear,fullWidth:true},\"clear\")));};export default Form;","map":{"version":3,"sources":["C:/Users/PC/Documents/Code/Full-Stack-MERN/client/src/components/Form/Form.js"],"names":["React","useState","useEffect","TextField","Button","Typography","Paper","FileBase","useDispatch","useSelector","useStyles","createPost","updatePost","Form","currentId","setCurrentId","creator","title","message","tags","selectedFile","postData","setPostData","post","state","posts","find","p","_id","classes","dispatch","handleSubmit","e","preventDefault","clear","paper","root","form","target","value","fileInput","base64","buttonSubmit"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { TextField, Button, Typography, Paper } from '@material-ui/core';\r\nimport FileBase from 'react-file-base64';\r\nimport { useDispatch, useSelector} from 'react-redux';\r\n\r\nimport useStyles from './styles';\r\nimport { createPost, updatePost } from '../../actions/posts';\r\n\r\n//Get the current ID we are on\r\n\r\nconst Form = ({ currentId, setCurrentId}) => {\r\n    const [postData, setPostData] = useState( {creator: '', title: '', message: '', tags: '', selectedFile: ''});\r\n    const post = useSelector( (state) => currentId ? state.posts.find((p) => p._id === currentId) : null );\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect( () => {\r\n        if(post) { setPostData(post); };\r\n    }, [post])\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if(currentId){\r\n            dispatch(updatePost(currentId, postData));\r\n        }else{\r\n            dispatch(createPost(postData));    \r\n        }\r\n    }\r\n\r\n    const clear = () => {\r\n\r\n    }\r\n    \r\n    return ( \r\n        <Paper className={classes.paper}>\r\n            <form autoComplete=\"off\" noValidate className={`${classes.root} ${classes.form}`} onSubmit={handleSubmit} >\r\n            <Typography variant=\"h6\">Creating a Memory</Typography>\r\n            <TextField name=\"creator\"variant=\"outlined\" label=\"Creator\" fullWidth value={postData.creator} onChange={(e) => setPostData( {...postData, creator: e.target.value })} />\r\n            <TextField name=\"title\"variant=\"outlined\" label=\"Title\" fullWidth value={postData.title} onChange={(e) => setPostData( {...postData, title: e.target.value })} />\r\n            <TextField name=\"message\"variant=\"outlined\" label=\"Message\" fullWidth value={postData.message} onChange={(e) => setPostData( {...postData, message: e.target.value })} />\r\n            <TextField name=\"tags\"variant=\"outlined\" label=\"Tags\" fullWidth value={postData.tags} onChange={(e) => setPostData( {...postData, tags: e.target.value })} />\r\n            <div className={classes.fileInput}> <FileBase type=\"file\" multiple={false} onDone={({base64}) => setPostData({...postData, selectedFile: base64})} /> </div>\r\n            <Button className={classes.buttonSubmit} variant=\"contained\" color=\"primary\" size=\"large\" type=\"submit\" fullWidth>Submit</Button>\r\n            <Button variant=\"contained\" color=\"secondary\" size=\"small\" onClick={clear} fullWidth>clear</Button>\r\n            </form>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default Form"]},"metadata":{},"sourceType":"module"}